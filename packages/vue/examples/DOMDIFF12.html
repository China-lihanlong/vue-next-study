<div id="app"></div>
<script src="../dist/vue.global.js"></script>
<script>
  const { createApp, h, ref, defineCustomElement, customElement } = Vue
  const Comp = {
    template: `
      <slot :slot="'slot'">sdasdsd</slot>
    `,

    setup() {
      const data = ref('我是Comp传递过来的内容')

      return {
        data
      }
    }
  }

  const CustomElement = defineCustomElement({
    // 这里是普通的 Vue 组件选项
    props: {},
    emits: {},
    template: ``,
    styles: [],
    ceReload: () => {
      console.log('10')
    }
  })

  customElements.define('custom-element', CustomElement)


  const App = {

    template: `
      <Comp>
        <custom-element></custom-element>
      </Comp>
    `,

    setup() {
      const counter = ref(0)

      function increment() {
        counter.value++
      }

      return {
        counter,
        increment
      }
    },

    components: {
      Comp,
    },

    /* render() {
      return h(Comp, null, {
        default: () => h('div', null, '我是分发default内容'),
        header: () => h('div', null, '我是分发header内容'),
        container: () => h('div', null, '我是container内容'),
        footer: () => h('div', null, '我是footer内容')
      })
    } */

    /* render() {
      return h(Comp, null, [
        h('div', null, '我是分发default内容'),
        h('div', null, '我是分发header内容'),
        h('div', null, '我是container内容'),
        h('div', null, '我是footer内容')
      ])
    } */
  }

  const app = createApp(App)
  app.config.isCustomElement = tag => tag.startsWith('custom-')
  app.mount('#app')
</script>